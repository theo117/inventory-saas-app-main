{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/logout-action.ts"],"sourcesContent":["\"use server\";\n\nimport { redirect } from \"next/navigation\";\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\";\n\nexport async function logout() {\n  const supabase = await createSupabaseServerClient();\n  await supabase.auth.signOut();\n  redirect(\"/login\");\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;;;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,IAAA,8JAA0B;IACjD,MAAM,SAAS,IAAI,CAAC,OAAO;IAC3B,IAAA,iMAAQ,EAAC;AACX;;;IAJsB;;AAAA,+OAAA"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/items/actions.tsx"],"sourcesContent":["\"use server\"\n\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\"\nimport { getProfile } from \"@/app/lib/get-profile\"\n\nexport async function getItems() {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  \n\n\n  const { data } = await supabase\n    .from(\"items\")\n    .select(\"*\")\n    .eq(\"user_id\", me.id)\n    .order(\"created_at\", { ascending: false })\n\n  return data\n}\n\nexport async function addItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").insert({\n    user_id: me.id,\n    name,\n    quantity,\n  })\n}\n\nfunction parseCsvRows(text: string): string[][] {\n  const rows: string[][] = []\n  let row: string[] = []\n  let cell = \"\"\n  let inQuotes = false\n\n  for (let i = 0; i < text.length; i += 1) {\n    const char = text[i]\n    const next = text[i + 1]\n\n    if (char === '\"') {\n      if (inQuotes && next === '\"') {\n        cell += '\"'\n        i += 1\n      } else {\n        inQuotes = !inQuotes\n      }\n      continue\n    }\n\n    if (char === \",\" && !inQuotes) {\n      row.push(cell)\n      cell = \"\"\n      continue\n    }\n\n    if ((char === \"\\n\" || char === \"\\r\") && !inQuotes) {\n      if (char === \"\\r\" && next === \"\\n\") i += 1\n      row.push(cell)\n      rows.push(row)\n      row = []\n      cell = \"\"\n      continue\n    }\n\n    cell += char\n  }\n\n  if (cell.length > 0 || row.length > 0) {\n    row.push(cell)\n    rows.push(row)\n  }\n\n  return rows\n}\n\nexport async function importItems(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const file = formData.get(\"csvFile\")\n  if (\n    !file ||\n    typeof file !== \"object\" ||\n    !(\"text\" in file) ||\n    !(\"size\" in file) ||\n    typeof file.text !== \"function\" ||\n    typeof file.size !== \"number\" ||\n    file.size === 0\n  ) {\n    throw new Error(\"CSV file is required\")\n  }\n\n  const csvFile = file as { text: () => Promise<string>; size: number }\n  const text = await csvFile.text()\n  const rows = parseCsvRows(text).filter((row) => row.some((cell) => cell.trim() !== \"\"))\n  if (rows.length < 2) throw new Error(\"CSV must include a header and at least one row\")\n\n  const header = rows[0].map((h) => h.trim().toLowerCase())\n  const nameIndex = header.indexOf(\"name\")\n  const quantityIndex = header.indexOf(\"quantity\")\n  if (nameIndex === -1 || quantityIndex === -1) {\n    throw new Error(\"CSV must contain name and quantity columns\")\n  }\n\n  const inserts = rows\n    .slice(1)\n    .map((row) => {\n      const name = (row[nameIndex] ?? \"\").trim()\n      const quantity = Number(row[quantityIndex] ?? \"\")\n      if (!name || !Number.isFinite(quantity) || quantity < 0) return null\n      return { user_id: me.id, name, quantity }\n    })\n    .filter((entry): entry is { user_id: string; name: string; quantity: number } => entry !== null)\n\n  if (!inserts.length) {\n    throw new Error(\"No valid rows found in CSV\")\n  }\n\n  await supabase.from(\"items\").insert(inserts)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"IMPORTED_ITEMS\",\n    target: `${inserts.length} rows`,\n  })\n}\n\nexport async function deleteItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me || me.role !== \"admin\") {\n    throw new Error(\"Not allowed\")\n  }\n\n  const id = Number(formData.get(\"id\"))\n\n  const { data: item } = await supabase\n    .from(\"items\")\n    .select(\"name\")\n    .eq(\"id\", id)\n    .single<{ name: string }>()\n\n  await supabase.from(\"items\").delete().eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"DELETED_ITEM\",\n    target: item?.name ?? `Item ${id}`,\n  })\n}\n\nexport async function updateItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const id = Number(formData.get(\"id\"))\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").update({ name, quantity }).eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"UPDATED_ITEM\",\n    target: `Item ${id}`,\n  })\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/.next-internal/server/app/dashboard/items/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logout as '005b4deac13a0b8c16d5cf280aa14e7f3d3fe01960'} from 'ACTIONS_MODULE0'\nexport {getItems as '00b0153a19d84ab0d0827df2d29fa2d23ff4147cbc'} from 'ACTIONS_MODULE1'\nexport {updateItem as '406705747a9545b11aea9eb3e6ef6eadc9bf32f0d2'} from 'ACTIONS_MODULE1'\nexport {deleteItem as '40766a76e1dfa9a94640275504df6a5465a82945f6'} from 'ACTIONS_MODULE1'\nexport {importItems as '407a9792dd6171413cfdcdf8bb1e041d390d087657'} from 'ACTIONS_MODULE1'\nexport {addItem as '40cf5f7e8d2f6ce930ffc7a69b9f19fe0b8de22c97'} from 'ACTIONS_MODULE1'\nexport {addItem as '40cf5f7e8d2f6ce930ffc7a69b9f19fe0b8de22c97'} from 'ACTIONS_MODULE1'\nexport {deleteItem as '40766a76e1dfa9a94640275504df6a5465a82945f6'} from 'ACTIONS_MODULE1'\nexport {updateItem as '406705747a9545b11aea9eb3e6ef6eadc9bf32f0d2'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}