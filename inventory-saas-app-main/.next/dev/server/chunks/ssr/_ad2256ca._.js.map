{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/logout-action.ts"],"sourcesContent":["\"use server\";\n\nimport { redirect } from \"next/navigation\";\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\";\n\nexport async function logout() {\n  const supabase = await createSupabaseServerClient();\n  await supabase.auth.signOut();\n  redirect(\"/login\");\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;;;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,IAAA,8JAA0B;IACjD,MAAM,SAAS,IAAI,CAAC,OAAO;IAC3B,IAAA,iMAAQ,EAAC;AACX;;;IAJsB;;AAAA,+OAAA"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/users/actions.ts"],"sourcesContent":["\"use server\"\n\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\"\nimport { getProfile } from \"@/app/lib/get-profile\"\n\nconst ALLOWED_ROLES = new Set([\"admin\", \"staff\"])\n\nexport async function updateUserRole(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me || me.role !== \"admin\") throw new Error(\"Not allowed\")\n\n  const userId = String(formData.get(\"userId\") ?? \"\")\n  const role = String(formData.get(\"role\") ?? \"\")\n\n  if (!userId || !ALLOWED_ROLES.has(role)) {\n    throw new Error(\"Invalid role update\")\n  }\n\n  if (userId === me.id && role !== \"admin\") {\n    throw new Error(\"Cannot demote your own admin account\")\n  }\n\n  await supabase.from(\"profiles\").update({ role }).eq(\"id\", userId)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"UPDATED_USER_ROLE\",\n    target: `${userId}:${role}`,\n  })\n}\n\nexport async function promoteUser(userId: string) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me || me.role !== \"admin\") throw new Error(\"Not allowed\")\n  if (userId === me.id) throw new Error(\"Cannot change your own role\")\n\n  await supabase.from(\"profiles\").update({ role: \"admin\" }).eq(\"id\", userId)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"PROMOTED_USER\",\n    target: userId,\n  })\n}\n\nexport async function demoteUser(userId: string) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me || me.role !== \"admin\") throw new Error(\"Not allowed\")\n  if (userId === me.id) throw new Error(\"Cannot change your own role\")\n\n  await supabase.from(\"profiles\").update({ role: \"staff\" }).eq(\"id\", userId)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"DEMOTED_USER\",\n    target: userId,\n  })\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;;;;;AAEA,MAAM,gBAAgB,IAAI,IAAI;IAAC;IAAS;CAAQ;AAEzC,eAAe,eAAe,QAAkB;IACrD,MAAM,WAAW,MAAM,IAAA,8JAA0B;IACjD,MAAM,KAAK,MAAM,IAAA,0IAAU;IAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,SAAS,MAAM,IAAI,MAAM;IAEhD,MAAM,SAAS,OAAO,SAAS,GAAG,CAAC,aAAa;IAChD,MAAM,OAAO,OAAO,SAAS,GAAG,CAAC,WAAW;IAE5C,IAAI,CAAC,UAAU,CAAC,cAAc,GAAG,CAAC,OAAO;QACvC,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,WAAW,GAAG,EAAE,IAAI,SAAS,SAAS;QACxC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;QAAE;IAAK,GAAG,EAAE,CAAC,MAAM;IAE1D,MAAM,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC;QACvC,UAAU,GAAG,EAAE;QACf,QAAQ;QACR,QAAQ,GAAG,OAAO,CAAC,EAAE,MAAM;IAC7B;AACF;AAEO,eAAe,YAAY,MAAc;IAC9C,MAAM,WAAW,MAAM,IAAA,8JAA0B;IACjD,MAAM,KAAK,MAAM,IAAA,0IAAU;IAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,SAAS,MAAM,IAAI,MAAM;IAChD,IAAI,WAAW,GAAG,EAAE,EAAE,MAAM,IAAI,MAAM;IAEtC,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;QAAE,MAAM;IAAQ,GAAG,EAAE,CAAC,MAAM;IAEnE,MAAM,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC;QACvC,UAAU,GAAG,EAAE;QACf,QAAQ;QACR,QAAQ;IACV;AACF;AAEO,eAAe,WAAW,MAAc;IAC7C,MAAM,WAAW,MAAM,IAAA,8JAA0B;IACjD,MAAM,KAAK,MAAM,IAAA,0IAAU;IAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,SAAS,MAAM,IAAI,MAAM;IAChD,IAAI,WAAW,GAAG,EAAE,EAAE,MAAM,IAAI,MAAM;IAEtC,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;QAAE,MAAM;IAAQ,GAAG,EAAE,CAAC,MAAM;IAEnE,MAAM,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC;QACvC,UAAU,GAAG,EAAE;QACf,QAAQ;QACR,QAAQ;IACV;AACF;;;IArDsB;IAyBA;IAeA;;AAxCA,+OAAA;AAyBA,+OAAA;AAeA,+OAAA"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/.next-internal/server/app/dashboard/users/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logout as '005b4deac13a0b8c16d5cf280aa14e7f3d3fe01960'} from 'ACTIONS_MODULE0'\nexport {demoteUser as '400e770815a0db3169cf74707fd7525c7ab59fdff0'} from 'ACTIONS_MODULE1'\nexport {promoteUser as '407cf11958b164250ca933e461d15b7052fa267197'} from 'ACTIONS_MODULE1'\nexport {updateUserRole as '40cdfe61fc21370a74c4da81d07591a7bc14eb1043'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}