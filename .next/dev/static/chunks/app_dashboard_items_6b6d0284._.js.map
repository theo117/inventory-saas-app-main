{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/items/actions.tsx"],"sourcesContent":["\"use server\"\n\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\"\nimport { getProfile } from \"@/app/lib/get-profile\"\n\nexport async function getItems() {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  \n\n\n  const { data } = await supabase\n    .from(\"items\")\n    .select(\"*\")\n    .eq(\"user_id\", me.id)\n    .order(\"created_at\", { ascending: false })\n\n  return data\n}\n\nexport async function addItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").insert({\n    user_id: me.id,\n    name,\n    quantity,\n  })\n}\n\nfunction parseCsvRows(text: string): string[][] {\n  const rows: string[][] = []\n  let row: string[] = []\n  let cell = \"\"\n  let inQuotes = false\n\n  for (let i = 0; i < text.length; i += 1) {\n    const char = text[i]\n    const next = text[i + 1]\n\n    if (char === '\"') {\n      if (inQuotes && next === '\"') {\n        cell += '\"'\n        i += 1\n      } else {\n        inQuotes = !inQuotes\n      }\n      continue\n    }\n\n    if (char === \",\" && !inQuotes) {\n      row.push(cell)\n      cell = \"\"\n      continue\n    }\n\n    if ((char === \"\\n\" || char === \"\\r\") && !inQuotes) {\n      if (char === \"\\r\" && next === \"\\n\") i += 1\n      row.push(cell)\n      rows.push(row)\n      row = []\n      cell = \"\"\n      continue\n    }\n\n    cell += char\n  }\n\n  if (cell.length > 0 || row.length > 0) {\n    row.push(cell)\n    rows.push(row)\n  }\n\n  return rows\n}\n\nexport async function importItems(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const file = formData.get(\"csvFile\")\n  if (\n    !file ||\n    typeof file !== \"object\" ||\n    !(\"text\" in file) ||\n    !(\"size\" in file) ||\n    typeof file.text !== \"function\" ||\n    typeof file.size !== \"number\" ||\n    file.size === 0\n  ) {\n    throw new Error(\"CSV file is required\")\n  }\n\n  const csvFile = file as { text: () => Promise<string>; size: number }\n  const text = await csvFile.text()\n  const rows = parseCsvRows(text).filter((row) => row.some((cell) => cell.trim() !== \"\"))\n  if (rows.length < 2) throw new Error(\"CSV must include a header and at least one row\")\n\n  const header = rows[0].map((h) => h.trim().toLowerCase())\n  const nameIndex = header.indexOf(\"name\")\n  const quantityIndex = header.indexOf(\"quantity\")\n  if (nameIndex === -1 || quantityIndex === -1) {\n    throw new Error(\"CSV must contain name and quantity columns\")\n  }\n\n  const inserts = rows\n    .slice(1)\n    .map((row) => {\n      const name = (row[nameIndex] ?? \"\").trim()\n      const quantity = Number(row[quantityIndex] ?? \"\")\n      if (!name || !Number.isFinite(quantity) || quantity < 0) return null\n      return { user_id: me.id, name, quantity }\n    })\n    .filter((entry): entry is { user_id: string; name: string; quantity: number } => entry !== null)\n\n  if (!inserts.length) {\n    throw new Error(\"No valid rows found in CSV\")\n  }\n\n  await supabase.from(\"items\").insert(inserts)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"IMPORTED_ITEMS\",\n    target: `${inserts.length} rows`,\n  })\n}\n\nexport async function deleteItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me || me.role !== \"admin\") {\n    throw new Error(\"Not allowed\")\n  }\n\n  const id = Number(formData.get(\"id\"))\n\n  const { data: item } = await supabase\n    .from(\"items\")\n    .select(\"name\")\n    .eq(\"id\", id)\n    .single<{ name: string }>()\n\n  await supabase.from(\"items\").delete().eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"DELETED_ITEM\",\n    target: item?.name ?? `Item ${id}`,\n  })\n}\n\nexport async function updateItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const id = Number(formData.get(\"id\"))\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").update({ name, quantity }).eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"UPDATED_ITEM\",\n    target: `Item ${id}`,\n  })\n}\n"],"names":[],"mappings":";;;;;;;MAsBsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,2CAAA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/items/actions.tsx"],"sourcesContent":["\"use server\"\n\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\"\nimport { getProfile } from \"@/app/lib/get-profile\"\n\nexport async function getItems() {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  \n\n\n  const { data } = await supabase\n    .from(\"items\")\n    .select(\"*\")\n    .eq(\"user_id\", me.id)\n    .order(\"created_at\", { ascending: false })\n\n  return data\n}\n\nexport async function addItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").insert({\n    user_id: me.id,\n    name,\n    quantity,\n  })\n}\n\nfunction parseCsvRows(text: string): string[][] {\n  const rows: string[][] = []\n  let row: string[] = []\n  let cell = \"\"\n  let inQuotes = false\n\n  for (let i = 0; i < text.length; i += 1) {\n    const char = text[i]\n    const next = text[i + 1]\n\n    if (char === '\"') {\n      if (inQuotes && next === '\"') {\n        cell += '\"'\n        i += 1\n      } else {\n        inQuotes = !inQuotes\n      }\n      continue\n    }\n\n    if (char === \",\" && !inQuotes) {\n      row.push(cell)\n      cell = \"\"\n      continue\n    }\n\n    if ((char === \"\\n\" || char === \"\\r\") && !inQuotes) {\n      if (char === \"\\r\" && next === \"\\n\") i += 1\n      row.push(cell)\n      rows.push(row)\n      row = []\n      cell = \"\"\n      continue\n    }\n\n    cell += char\n  }\n\n  if (cell.length > 0 || row.length > 0) {\n    row.push(cell)\n    rows.push(row)\n  }\n\n  return rows\n}\n\nexport async function importItems(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const file = formData.get(\"csvFile\")\n  if (\n    !file ||\n    typeof file !== \"object\" ||\n    !(\"text\" in file) ||\n    !(\"size\" in file) ||\n    typeof file.text !== \"function\" ||\n    typeof file.size !== \"number\" ||\n    file.size === 0\n  ) {\n    throw new Error(\"CSV file is required\")\n  }\n\n  const csvFile = file as { text: () => Promise<string>; size: number }\n  const text = await csvFile.text()\n  const rows = parseCsvRows(text).filter((row) => row.some((cell) => cell.trim() !== \"\"))\n  if (rows.length < 2) throw new Error(\"CSV must include a header and at least one row\")\n\n  const header = rows[0].map((h) => h.trim().toLowerCase())\n  const nameIndex = header.indexOf(\"name\")\n  const quantityIndex = header.indexOf(\"quantity\")\n  if (nameIndex === -1 || quantityIndex === -1) {\n    throw new Error(\"CSV must contain name and quantity columns\")\n  }\n\n  const inserts = rows\n    .slice(1)\n    .map((row) => {\n      const name = (row[nameIndex] ?? \"\").trim()\n      const quantity = Number(row[quantityIndex] ?? \"\")\n      if (!name || !Number.isFinite(quantity) || quantity < 0) return null\n      return { user_id: me.id, name, quantity }\n    })\n    .filter((entry): entry is { user_id: string; name: string; quantity: number } => entry !== null)\n\n  if (!inserts.length) {\n    throw new Error(\"No valid rows found in CSV\")\n  }\n\n  await supabase.from(\"items\").insert(inserts)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"IMPORTED_ITEMS\",\n    target: `${inserts.length} rows`,\n  })\n}\n\nexport async function deleteItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me || me.role !== \"admin\") {\n    throw new Error(\"Not allowed\")\n  }\n\n  const id = Number(formData.get(\"id\"))\n\n  const { data: item } = await supabase\n    .from(\"items\")\n    .select(\"name\")\n    .eq(\"id\", id)\n    .single<{ name: string }>()\n\n  await supabase.from(\"items\").delete().eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"DELETED_ITEM\",\n    target: item?.name ?? `Item ${id}`,\n  })\n}\n\nexport async function updateItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const id = Number(formData.get(\"id\"))\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").update({ name, quantity }).eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"UPDATED_ITEM\",\n    target: `Item ${id}`,\n  })\n}\n"],"names":[],"mappings":";;;;;;;MAwIsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/items/actions.tsx"],"sourcesContent":["\"use server\"\n\nimport { createSupabaseServerClient } from \"@/app/lib/supabase-server\"\nimport { getProfile } from \"@/app/lib/get-profile\"\n\nexport async function getItems() {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  \n\n\n  const { data } = await supabase\n    .from(\"items\")\n    .select(\"*\")\n    .eq(\"user_id\", me.id)\n    .order(\"created_at\", { ascending: false })\n\n  return data\n}\n\nexport async function addItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").insert({\n    user_id: me.id,\n    name,\n    quantity,\n  })\n}\n\nfunction parseCsvRows(text: string): string[][] {\n  const rows: string[][] = []\n  let row: string[] = []\n  let cell = \"\"\n  let inQuotes = false\n\n  for (let i = 0; i < text.length; i += 1) {\n    const char = text[i]\n    const next = text[i + 1]\n\n    if (char === '\"') {\n      if (inQuotes && next === '\"') {\n        cell += '\"'\n        i += 1\n      } else {\n        inQuotes = !inQuotes\n      }\n      continue\n    }\n\n    if (char === \",\" && !inQuotes) {\n      row.push(cell)\n      cell = \"\"\n      continue\n    }\n\n    if ((char === \"\\n\" || char === \"\\r\") && !inQuotes) {\n      if (char === \"\\r\" && next === \"\\n\") i += 1\n      row.push(cell)\n      rows.push(row)\n      row = []\n      cell = \"\"\n      continue\n    }\n\n    cell += char\n  }\n\n  if (cell.length > 0 || row.length > 0) {\n    row.push(cell)\n    rows.push(row)\n  }\n\n  return rows\n}\n\nexport async function importItems(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const file = formData.get(\"csvFile\")\n  if (\n    !file ||\n    typeof file !== \"object\" ||\n    !(\"text\" in file) ||\n    !(\"size\" in file) ||\n    typeof file.text !== \"function\" ||\n    typeof file.size !== \"number\" ||\n    file.size === 0\n  ) {\n    throw new Error(\"CSV file is required\")\n  }\n\n  const csvFile = file as { text: () => Promise<string>; size: number }\n  const text = await csvFile.text()\n  const rows = parseCsvRows(text).filter((row) => row.some((cell) => cell.trim() !== \"\"))\n  if (rows.length < 2) throw new Error(\"CSV must include a header and at least one row\")\n\n  const header = rows[0].map((h) => h.trim().toLowerCase())\n  const nameIndex = header.indexOf(\"name\")\n  const quantityIndex = header.indexOf(\"quantity\")\n  if (nameIndex === -1 || quantityIndex === -1) {\n    throw new Error(\"CSV must contain name and quantity columns\")\n  }\n\n  const inserts = rows\n    .slice(1)\n    .map((row) => {\n      const name = (row[nameIndex] ?? \"\").trim()\n      const quantity = Number(row[quantityIndex] ?? \"\")\n      if (!name || !Number.isFinite(quantity) || quantity < 0) return null\n      return { user_id: me.id, name, quantity }\n    })\n    .filter((entry): entry is { user_id: string; name: string; quantity: number } => entry !== null)\n\n  if (!inserts.length) {\n    throw new Error(\"No valid rows found in CSV\")\n  }\n\n  await supabase.from(\"items\").insert(inserts)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"IMPORTED_ITEMS\",\n    target: `${inserts.length} rows`,\n  })\n}\n\nexport async function deleteItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me || me.role !== \"admin\") {\n    throw new Error(\"Not allowed\")\n  }\n\n  const id = Number(formData.get(\"id\"))\n\n  const { data: item } = await supabase\n    .from(\"items\")\n    .select(\"name\")\n    .eq(\"id\", id)\n    .single<{ name: string }>()\n\n  await supabase.from(\"items\").delete().eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"DELETED_ITEM\",\n    target: item?.name ?? `Item ${id}`,\n  })\n}\n\nexport async function updateItem(formData: FormData) {\n  const supabase = await createSupabaseServerClient()\n  const me = await getProfile()\n\n  if (!me) throw new Error(\"Not authenticated\")\n\n  const id = Number(formData.get(\"id\"))\n  const name = formData.get(\"name\") as string\n  const quantity = Number(formData.get(\"quantity\"))\n\n  await supabase.from(\"items\").update({ name, quantity }).eq(\"id\", id)\n\n  await supabase.from(\"audit_logs\").insert({\n    actor_id: me.id,\n    action: \"UPDATED_ITEM\",\n    target: `Item ${id}`,\n  })\n}\n"],"names":[],"mappings":";;;;;;;MAiKsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/items/InventoryList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { addItem, deleteItem, updateItem } from \"./actions\";\n\ntype Item = {\n  id: number;\n  name: string;\n  quantity: number;\n};\n\nconst DEFAULT_REORDER_THRESHOLD = 5;\nconst THRESHOLDS_KEY = \"inventory.reorderThresholds.v1\";\n\nexport default function InventoryList({ items }: { items: Item[] }) {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [showLowOnly, setShowLowOnly] = useState(false);\n  const [thresholds, setThresholds] = useState<Record<number, number>>({});\n\n  useEffect(() => {\n    try {\n      const raw = window.localStorage.getItem(THRESHOLDS_KEY);\n      if (!raw) return;\n      const parsed = JSON.parse(raw) as Record<string, unknown>;\n      const clean: Record<number, number> = {};\n      for (const [key, value] of Object.entries(parsed)) {\n        const id = Number(key);\n        const threshold = Number(value);\n        if (Number.isInteger(id) && Number.isFinite(threshold) && threshold >= 0) {\n          clean[id] = threshold;\n        }\n      }\n      setThresholds(clean);\n    } catch {\n      setThresholds({});\n    }\n  }, []);\n\n  function getThreshold(itemId: number) {\n    return thresholds[itemId] ?? DEFAULT_REORDER_THRESHOLD;\n  }\n\n  function setThreshold(itemId: number, value: number) {\n    const safe = Number.isFinite(value) && value >= 0 ? value : 0;\n    const next = { ...thresholds, [itemId]: safe };\n    setThresholds(next);\n    window.localStorage.setItem(THRESHOLDS_KEY, JSON.stringify(next));\n  }\n\n  const filteredItems = useMemo(() => {\n    const q = searchTerm.trim().toLowerCase();\n    return items.filter((item) => {\n      const matchesSearch = !q || item.name.toLowerCase().includes(q);\n      const isLowStock = item.quantity <= getThreshold(item.id);\n      return matchesSearch && (!showLowOnly || isLowStock);\n    });\n  }, [items, searchTerm, showLowOnly, thresholds]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-wrap items-center gap-3\">\n        <input\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          placeholder=\"Search items\"\n          className=\"min-w-56 flex-1 rounded-md border px-3 py-2\"\n        />\n\n        <label className=\"inline-flex items-center gap-2 text-sm text-zinc-700\">\n          <input\n            type=\"checkbox\"\n            checked={showLowOnly}\n            onChange={(e) => setShowLowOnly(e.target.checked)}\n          />\n          Show low stock only\n        </label>\n\n      </div>\n\n      {/* Add Item */}\n      <form action={addItem} className=\"flex gap-4\">\n        <input\n          name=\"name\"\n          className=\"flex-1 rounded-md border px-3 py-2\"\n          placeholder=\"Item name\"\n          required\n        />\n\n        <input\n          name=\"quantity\"\n          type=\"number\"\n          min={1}\n          defaultValue={1}\n          className=\"w-24 rounded-md border px-3 py-2\"\n        />\n\n        <button className=\"rounded-md bg-black px-4 py-2 text-white\">\n          Add\n        </button>\n      </form>\n\n      {/* Inventory List */}\n      <ul className=\"divide-y\">\n        {filteredItems.map((item) => {\n          const threshold = getThreshold(item.id);\n          const isLowStock = item.quantity <= threshold;\n          return (\n          <li key={item.id} className=\"py-3 flex justify-between items-center\">\n            <div>\n              <p className=\"font-medium\">\n                {item.name}{\" \"}\n                {isLowStock && (\n                  <span className=\"rounded bg-amber-100 px-2 py-0.5 text-xs text-amber-800\">\n                    Low stock\n                  </span>\n                )}\n              </p>\n              <div className=\"mt-1\">\n                <span\n                  className={`px-2 py-1 rounded text-xs font-semibold ${\n                    item.quantity <= threshold\n                      ? \"bg-red-100 text-red-700\"\n                      : \"bg-green-100 text-green-700\"\n                  }`}\n                >\n                  Qty {item.quantity}\n                </span>\n              </div>\n              <label className=\"mt-1 block text-sm text-zinc-600\">\n                Reorder at:\n                <input\n                  type=\"number\"\n                  min={0}\n                  value={threshold}\n                  onChange={(e) => setThreshold(item.id, Number(e.target.value))}\n                  className=\"ml-2 w-20 rounded border px-2 py-0.5\"\n                />\n              </label>\n            </div>\n\n            <div className=\"flex gap-4\">\n              {/* Edit */}\n              <form action={updateItem}>\n  <input type=\"hidden\" name=\"id\" value={item.id} />\n  <input name=\"name\" defaultValue={item.name} />\n  <input name=\"quantity\" defaultValue={item.quantity} />\n  <button>Save</button>\n</form>\n\n\n              {/* Delete */}\n              <form action={deleteItem}>\n  <input type=\"hidden\" name=\"id\" value={item.id} />\n  <button className=\"text-sm text-red-600 hover:underline\">\n    Delete\n  </button>\n</form>\n\n            </div>\n          </li>\n        )})}\n      </ul>\n\n      {!filteredItems.length && (\n        <p className=\"text-sm text-zinc-500\">No items match the current filters.</p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/theod/Documents/Java%202025/business/New%20folder/inventory-saas-app-main/inventory-saas-app-main/app/dashboard/items/ExportCsvButton.tsx"],"sourcesContent":["\"use client\";\n\ntype Item = {\n  id: number;\n  name: string;\n  quantity: number;\n};\n\nfunction csvCell(value: string | number) {\n  const safe = String(value ?? \"\").replace(/\"/g, \"\\\"\\\"\");\n  return `\"${safe}\"`;\n}\n\nexport default function ExportCsvButton({ items }: { items: Item[] }) {\n  function handleExport() {\n    if (!items.length) return;\n\n    const header = [\"id\", \"name\", \"quantity\"];\n    const rows = items.map((item) => [item.id, item.name, item.quantity]);\n    const csv = [header, ...rows].map((row) => row.map(csvCell).join(\",\")).join(\"\\n\");\n\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const date = new Date().toISOString().slice(0, 10);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `inventory-${date}.csv`;\n    link.click();\n    URL.revokeObjectURL(url);\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleExport}\n      disabled={!items.length}\n      className=\"rounded-md border border-zinc-300 px-4 py-2 text-sm font-medium hover:bg-zinc-50 disabled:cursor-not-allowed disabled:opacity-50\"\n    >\n      Export CSV\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQA,SAAS,QAAQ,KAAsB;IACrC,MAAM,OAAO,OAAO,SAAS,IAAI,OAAO,CAAC,MAAM;IAC/C,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AACpB;AAEe,SAAS,gBAAgB,EAAE,KAAK,EAAqB;IAClE,SAAS;QACP,IAAI,CAAC,MAAM,MAAM,EAAE;QAEnB,MAAM,SAAS;YAAC;YAAM;YAAQ;SAAW;QACzC,MAAM,OAAO,MAAM,GAAG,CAAC,CAAC,OAAS;gBAAC,KAAK,EAAE;gBAAE,KAAK,IAAI;gBAAE,KAAK,QAAQ;aAAC;QACpE,MAAM,MAAM;YAAC;eAAW;SAAK,CAAC,GAAG,CAAC,CAAC,MAAQ,IAAI,GAAG,CAAC,SAAS,IAAI,CAAC,MAAM,IAAI,CAAC;QAE5E,MAAM,OAAO,IAAI,KAAK;YAAC;SAAI,EAAE;YAAE,MAAM;QAA0B;QAC/D,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG;QAC/C,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,UAAU,EAAE,KAAK,IAAI,CAAC;QACvC,KAAK,KAAK;QACV,IAAI,eAAe,CAAC;IACtB;IAEA,qBACE,6LAAC;QACC,MAAK;QACL,SAAS;QACT,UAAU,CAAC,MAAM,MAAM;QACvB,WAAU;kBACX;;;;;;AAIL;KA5BwB"}}]
}